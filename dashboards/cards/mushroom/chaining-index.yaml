# Chaining Index - Mushroom Template Card
# Measures zone call overlap: Total Zone Calls / Furnace Cycles
# 1.0 = no overlap (inefficient), 2.0 = full overlap (efficient)
# Higher = longer furnace runs, fewer start/stop cycles, less wear
# Dashboard: Energy Performance - Operations
type: custom:mushroom-template-card
primary: "{{ states('sensor.hvac_chaining_index') | float(1) | round(2) }}"
secondary: >
  {% set idx = states('sensor.hvac_chaining_index') | float(1) %}
  {% if idx >= 1.7 %}Excellent overlap
  {% elif idx >= 1.4 %}Good overlap
  {% elif idx >= 1.2 %}Some overlap
  {% else %}Low overlap{% endif %}
icon: mdi:link-variant
icon_color: >
  {% set idx = states('sensor.hvac_chaining_index') | float(1) %}
  {% if idx >= 1.7 %}green
  {% elif idx >= 1.4 %}light-green
  {% elif idx >= 1.2 %}orange
  {% else %}red{% endif %}
tap_action:
  action: more-info
entity: sensor.hvac_chaining_index
layout_options:
  grid_columns: 2
  grid_rows: 2
vertical: true

# 1F Average Cycle Length - Dynamic Color
# Color indicates short cycling risk (red < 3min, orange < 5min, green >= 8min)
# Dashboard: Energy Performance - Operations
type: custom:mushroom-template-card
primary: >-
  {% set r1 = states('sensor.hvac_1f_heat_runtime_today') | float(0) %}
  {% set c1 = states('sensor.hvac_1f_heat_cycles_today') | int(0) %}
  {{ ((r1 * 60 / c1) | round(1)) if c1 > 0 else 'N/A' }} min
secondary: 1F Avg Cycle
icon: mdi:home-floor-1
color: >-
  {% set r1 = states('sensor.hvac_1f_heat_runtime_today') | float(0) %}
  {% set c1 = states('sensor.hvac_1f_heat_cycles_today') | int(0) %}
  {% set a1 = (r1 * 60 / c1) if c1 > 0 else 0 %}
  {% if a1 == 0 %}grey
  {% elif a1 < 3 %}red
  {% elif a1 < 5 %}orange
  {% elif a1 < 8 %}amber
  {% else %}green{% endif %}
features_position: bottom
vertical: true
grid_options:
  columns: 6
  rows: 2

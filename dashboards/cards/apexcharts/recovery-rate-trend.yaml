# Recovery Rate Trend - ApexCharts Card
# Shows 1F/2F setback recovery rates with baseline bounds
# Dashboard: Energy Performance - Operations
type: custom:apexcharts-card
header:
  show: true
  title: Recovery Rate Trend
  show_states: true
  colorize_states: true
graph_span: 14d
span:
  end: day
yaxis:
  - id: primary
    min: 0
    apex_config:
      tickAmount: 5
      title:
        text: min/Â°F
apex_config:
  chart:
    height: 250
  legend:
    show: true
    position: bottom
  stroke:
    curve: smooth
series:
  - entity: sensor.hvac_1f_recovery_rate_avg
    name: 1F Recovery Rate
    color: "#3498db"
    stroke_width: 2
    yaxis_id: primary
    extend_to: now
    show:
      in_header: true
    group_by:
      func: last
      duration: 1d
  - entity: sensor.hvac_2f_recovery_rate_avg
    name: 2F Recovery Rate
    color: "#e74c3c"
    stroke_width: 2
    yaxis_id: primary
    extend_to: now
    show:
      in_header: true
    group_by:
      func: last
      duration: 1d
  - entity: sensor.hvac_1f_recovery_rate_upper_bound
    name: 1F Baseline
    color: "#3498db"
    stroke_width: 1
    opacity: 0.5
    yaxis_id: primary
    extend_to: now
    show:
      legend_value: false
    group_by:
      func: last
      duration: 1d
  - entity: sensor.hvac_2f_recovery_rate_upper_bound
    name: 2F Baseline
    color: "#e74c3c"
    stroke_width: 1
    opacity: 0.5
    yaxis_id: primary
    extend_to: now
    show:
      legend_value: false
    group_by:
      func: last
      duration: 1d
